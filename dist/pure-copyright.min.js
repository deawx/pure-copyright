!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Copyright=e()}(this,function(){"use strict";function t(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function e(t){return!!t&&1===t.nodeType&&n(t)&&!o(t)}function n(t){return!!t&&"object"==typeof t}function o(e){if(!n(e)||d.call(e)!=f||t(e))return!1;var o=h(e);if(null===o)return!0;var r=g.call(o,"constructor")&&o.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==y}function r(t){var e=i(t)?R.call(t):"";return e==b||e==m}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function a(t){return!!t&&"object"==typeof t}function u(t){if(!a(t)||A.call(t)!=O||c(t))return!1;var e=F(t);if(null===e)return!0;var n=E.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&C.call(n)==T}var f="[object Object]",p=Function.prototype,s=Object.prototype,l=p.toString,g=s.hasOwnProperty,y=l.call(Object),d=s.toString,h=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),v=e,b="[object Function]",m="[object GeneratorFunction]",j=Object.prototype,R=j.toString,S=r,O="[object Object]",w=Function.prototype,x=Object.prototype,C=w.toString,E=x.hasOwnProperty,T=C.call(Object),A=x.toString,F=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),P=u,L={text:"<br><br>Original: "+window.location.href,minlength:0,processing:void 0},M=window.getSelection,D=document.selection,G=document.body,H=function(t,e){var n=this;if(!v(t))throw new Error("element parameter is not a DOM element");if(!P(e))throw new Error("options parameter is not a object");this.element=t,this.options=Object.assign({},L,e),this.event={},["beforeCopy","afterCopy"].forEach(function(t){n.event[t]=[]}),this.trigger=function(t){n.event[t].forEach(function(t){t()})},this.copy=function(){var t=n.getSelectedText(),e=n.saveSelectionRange(G[0]);t.length>n.options.minlength&&(S(n.options.processing)&&n.options.processing(t),t+=n.options.text);var o=document.createElement("div");o.innerHTML=t,o.setAttribute("style","width: 1px; height: 1px; overflow: hidden; position: absolute; top: -99999px; left: -99999px; opacity: 0.01"),G.appendChild(o),n.setSelectionRange.call({div:o}),window.setTimeout(function(){n.restoreSelectionRange.call({range:e}),G.removeChild(o),n.trigger("afterCopy")},0),n.trigger("beforeCopy")},this.start()};return H.prototype.getSelectedText=function(){return M?M().toString():D?D.createRange().text():void 0},H.prototype.setSelectionRange=function(){if(M){var t=document.createRange();t.selectNodeContents(this.div);var e=M();e.removeAllRanges(),e.addRange(t)}else if(D&&document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(this.div),n.select()}},H.prototype.removeSelectionRange=function(){M?M().removeAllRanges():D&&D.empty()},H.prototype.saveSelectionRange=function(){if(M){var t=M();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}else if(D)return D.createRange();return null},H.prototype.restoreSelectionRange=function(){if(this.range)if(M){var t=M();t.removeAllRanges(),t.addRange(this.range)}else D&&this.range.select();else this.removeSelectionRange()},H.prototype.on=function(t,e){if("beforeCopy"!==t&&"afterCopy"!==t)throw new Error("event name must be 'beforeCopy' or 'afterCopy'");return S(e)&&this.event[t].push(e),this},H.prototype.destory=function(){this.element.removeEventListener("copy",this.copy,!1)},H.prototype.start=function(){return this.element.addEventListener("copy",this.copy,!1),this},H});
//# sourceMappingURL=pure-copyright.min.js.map
